// Generated by CoffeeScript 1.7.1
(function() {
  angular.module('gallery-detail', []).config([
    "$routeProvider", function($routeProvider) {
      return $routeProvider.when("/gallery/:name", {
        templateUrl: "/assets/app/gallery/gallery-detail.tpl.html",
        controller: 'GalleryDetailCtrl',
        resolve: {
          galleryData: [
            "Galleries", function(Galleries) {
              return Galleries.get();
            }
          ]
        }
      });
    }
  ]).controller('GalleryDetailCtrl', [
    "$scope", "$timeout", "$route", "galleryData", "$rootScope", function($scope, $timeout, $route, galleryData, $rootScope) {
      var g, i, j, _i, _len;
      $rootScope.isSubPage = true;
      for (_i = 0, _len = galleryData.length; _i < _len; _i++) {
        g = galleryData[_i];
        if (g.name === $route.current.params.name) {
          $scope.gallery = g;
        }
      }
      $.fn.photobox('prepareDOM');
      $('.gallery').photobox('a', {
        history: false
      });
      i = 0;
      j = 0;
      return $timeout(function() {
        var item, _j, _len1, _ref;
        _ref = $(".gallery li");
        for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {
          item = _ref[_j];
          $timeout(function() {
            i;
            $($(".gallery li")[j++]).addClass('loaded');
            return 25 * i++;
          });
        }
        return 500;
      });
    }
  ]);

}).call(this);

//# sourceMappingURL=gallery-detail.map
